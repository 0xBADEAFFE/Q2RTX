Changes since r396
==================

Features:
---------

* Added support for HTTP downloads using libCURL.

* Added OpenAL 1.1 sound engine with Linear Distance Model support,
  which should be very close to the original Q2 sound with useful
  features like 5.1 channel output.

* Added support for receiving input from the LIRC daemon on Linux.

* Added ‘scr_lag_max’ cvar for controlling lagometer scale.

* Added ‘r_fps’, ‘cl_mps’ and ‘cl_pps’ macros displaying current
  rendering FPS, moves per second and packets per second rates.

* High gl_modulate values now completely cancel entity glowing effect,
  just like original Q2 renderer does.

* Added support for loading monochrome JPEG images.

* MVD channels menu is now automatically refreshed.

* MVD channels are no longer destroyed when GTV server fails to
  load the map, they are used with null visibility info instead.

* Server ‘status p’ command now lists various protocol details like
  maxmsglen, netchan type, zlib support, etc.

* On Linux, Path MTU Discovery is now disabled on UDP sockets, so that
  kernel allows IP level fragmentation of outgoing packets, allowing clients
  with smaller MTU sizes to connect.

* Improved IO handling: use only single select() call per frame.

* More efficient custom code for reading ZIP packfiles is now used
  instead of PKZIP library.

* Implemented new error reporting framework based on errno and custom error codes.


Bugfixes:
---------

* Improved ‘oldscores’ GTV client command handling with OpenTDM.

* Fixed off-by-one error when printing argument to the ‘!’ chase target escape.

* Fixed floating point division by zero in packet loss ratio calculations.

* Fixed a memory leak in ‘mvdstop’ GTV server command.

* Fixed improper handling of status responses from servers client is connecting to.

* Removed ‘Server rejected loopback connection’ error message.

* Fixed off-by-one errors in lightstyle and muzzle flash parsing code.

* Fixed integer overflow in sound loading code.

* Fixed possible access to uninitialized memory in BSP loading code.

* Fixed old Q2 bug in Netchan_Transmit causing reliable retransmits to be
  delayed one ack longer than needed.

* Empty files and directories inside ZIP packfiles are now skipped.

* Fixed endianess issues in sound and image loading code.

* Maximum loadable file size is now limited to 64 MiB to protect
  against malicious paks causing memory exhaustion.

* Fixed ‘mvdskip’ command not working properly.

* Fixed a crash in ‘mvdplay’ command possible when demo file is invalid.

* Fixed a memory leak in JPEG and PNG image reading and writing functions.

